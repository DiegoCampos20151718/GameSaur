{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\gamesaur\\\\components\\\\Addgame.tsx\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction VideoGameForm() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    show = _useState2[0],\n    setShow = _useState2[1];\n  var target = useRef(null);\n  var _useParams = useParams(),\n    videoGameId = _useParams.videoGameId;\n  var isCreating = !videoGameId;\n  var _useState3 = useState({\n      name: '',\n      description: '',\n      stock: 0,\n      price: 0,\n      physical: false,\n      digital: false,\n      image: '',\n      id_category: '',\n      id_genre: '',\n      id_platform: '',\n      id_brand: ''\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    formData = _useState4[0],\n    setFormData = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    categories = _useState6[0],\n    setCategories = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    genres = _useState8[0],\n    setGenres = _useState8[1];\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    platforms = _useState10[0],\n    setPlatforms = _useState10[1];\n  var _useState11 = useState([]),\n    _useState12 = _slicedToArray(_useState11, 2),\n    brands = _useState12[0],\n    setBrands = _useState12[1];\n  useEffect(function () {\n    axios.get('http://localhost/geingeemu/public/api/categories').then(function (response) {\n      return setCategories(response.data);\n    }).catch(function (error) {\n      return console.error('Error fetching categories:', error);\n    });\n    axios.get('http://localhost/geingeemu/public/api/genres').then(function (response) {\n      return setGenres(response.data);\n    }).catch(function (error) {\n      return console.error('Error fetching genres:', error);\n    });\n    axios.get('http://localhost/geingeemu/public/api/platforms').then(function (response) {\n      return setPlatforms(response.data);\n    }).catch(function (error) {\n      return console.error('Error fetching platforms:', error);\n    });\n    axios.get('http://localhost/geingeemu/public/api/brands').then(function (response) {\n      return setBrands(response.data);\n    }).catch(function (error) {\n      return console.error('Error fetching brands:', error);\n    });\n    if (!isCreating) {\n      axios.get(`http://localhost/geingeemu/public/api/videogameview/${videoGameId}`).then(function (response) {\n        return setFormData(response.data);\n      }).catch(function (error) {\n        return console.error('Error fetching videogame:', error);\n      });\n    }\n  }, [videoGameId, isCreating]);\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n      name = _e$target.name,\n      value = _e$target.value,\n      type = _e$target.type,\n      checked = _e$target.checked;\n    setFormData(_objectSpread(_objectSpread({}, formData), {}, _defineProperty({}, name, type === 'checkbox' ? checked : value)));\n  };\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var endpoint = isCreating ? 'http://localhost/geingeemu/public/api/videogamestore' : `http://localhost/geingeemu/public/api/videogameedit/${videoGameId}`;\n    var method = isCreating ? 'post' : 'put';\n    axios[method](endpoint, formData).then(function (response) {\n      console.log(`Videojuego ${isCreating ? 'created' : 'updated'}:`, response.data);\n    }).catch(function (error) {\n      console.error(`${isCreating ? 'Create' : 'Edit'} error:`, error);\n    });\n  };\n  return _jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [_jsxDEV(\"div\", {\n      className: \"form-content\",\n      children: [_jsxDEV(\"h2\", {\n        children: isCreating ? 'ADD VIDEOGAME' : 'EDIT VIDEOGAME'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), _jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: _jsxDEV(\"button\", {\n          type: \"submit\",\n          ref: target,\n          onClick: function onClick() {\n            return setShow(!show);\n          },\n          children: isCreating ? 'Create' : 'Save'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), show && _jsxDEV(\"div\", {\n      className: \"overlay\",\n      style: {\n        position: 'absolute',\n        backgroundColor: 'rgba(71, 255, 61, 0.85)',\n        padding: '2px 10px',\n        color: 'white',\n        borderRadius: '3px'\n      },\n      children: isCreating ? 'Videogame Created' : 'Change Successfully'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\nexport default VideoGameForm;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","useParams","jsxDEV","_jsxDEV","VideoGameForm","_useState","_useState2","_slicedToArray","show","setShow","target","_useParams","videoGameId","isCreating","_useState3","name","description","stock","price","physical","digital","image","id_category","id_genre","id_platform","id_brand","_useState4","formData","setFormData","_useState5","_useState6","categories","setCategories","_useState7","_useState8","genres","setGenres","_useState9","_useState10","platforms","setPlatforms","_useState11","_useState12","brands","setBrands","get","then","response","data","catch","error","console","handleChange","e","_e$target","value","type","checked","_objectSpread","_defineProperty","handleSubmit","preventDefault","endpoint","method","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","ref","onClick","style","position","backgroundColor","padding","color","borderRadius"],"sources":["C:/xampp/htdocs/gamesaur/components/Addgame.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\n\r\ntype FormData = {\r\n  name: string;\r\n  description: string;\r\n  stock: number;\r\n  price: number;\r\n  physical: boolean;\r\n  digital: boolean;\r\n  image: string;\r\n  id_category: string;\r\n  id_genre: string;\r\n  id_platform: string;\r\n  id_brand: string;\r\n};\r\n\r\ntype Category = { id: string; name: string };\r\ntype Genre = { id: string; name: string };\r\ntype Platform = { id: string; name: string };\r\ntype Brand = { id: string; name: string };\r\n\r\nfunction VideoGameForm() {\r\n  const [show, setShow] = useState<boolean>(false);\r\n  const target = useRef<HTMLButtonElement>(null);\r\n  const { videoGameId } = useParams<{ videoGameId?: string }>();\r\n  const isCreating = !videoGameId;\r\n\r\n  const [formData, setFormData] = useState<FormData>({\r\n    name: '',\r\n    description: '',\r\n    stock: 0,\r\n    price: 0,\r\n    physical: false,\r\n    digital: false,\r\n    image: '',\r\n    id_category: '',\r\n    id_genre: '',\r\n    id_platform: '',\r\n    id_brand: '',\r\n  });\r\n\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [genres, setGenres] = useState<Genre[]>([]);\r\n  const [platforms, setPlatforms] = useState<Platform[]>([]);\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost/geingeemu/public/api/categories')\r\n      .then(response => setCategories(response.data))\r\n      .catch(error => console.error('Error fetching categories:', error));\r\n\r\n    axios.get('http://localhost/geingeemu/public/api/genres')\r\n      .then(response => setGenres(response.data))\r\n      .catch(error => console.error('Error fetching genres:', error));\r\n\r\n    axios.get('http://localhost/geingeemu/public/api/platforms')\r\n      .then(response => setPlatforms(response.data))\r\n      .catch(error => console.error('Error fetching platforms:', error));\r\n\r\n    axios.get('http://localhost/geingeemu/public/api/brands')\r\n      .then(response => setBrands(response.data))\r\n      .catch(error => console.error('Error fetching brands:', error));\r\n\r\n    if (!isCreating) {\r\n      axios.get(`http://localhost/geingeemu/public/api/videogameview/${videoGameId}`)\r\n        .then(response => setFormData(response.data))\r\n        .catch(error => console.error('Error fetching videogame:', error));\r\n    }\r\n  }, [videoGameId, isCreating]);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: type === 'checkbox' ? checked : value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const endpoint = isCreating\r\n      ? 'http://localhost/geingeemu/public/api/videogamestore'\r\n      : `http://localhost/geingeemu/public/api/videogameedit/${videoGameId}`;\r\n\r\n    const method = isCreating ? 'post' : 'put';\r\n\r\n    axios[method](endpoint, formData)\r\n      .then(response => {\r\n        console.log(`Videojuego ${isCreating ? 'created' : 'updated'}:`, response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error(`${isCreating ? 'Create' : 'Edit'} error:`, error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <div className=\"form-content\">\r\n        <h2>{isCreating ? 'ADD VIDEOGAME' : 'EDIT VIDEOGAME'}</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          {/* Add form fields here using plain HTML elements */}\r\n          <button type=\"submit\" ref={target} onClick={() => setShow(!show)}>\r\n            {isCreating ? 'Create' : 'Save'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n      {show && (\r\n        <div className=\"overlay\" style={{ position: 'absolute', backgroundColor: 'rgba(71, 255, 61, 0.85)', padding: '2px 10px', color: 'white', borderRadius: '3px' }}>\r\n          {isCreating ? 'Videogame Created' : 'Change Successfully'}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VideoGameForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}